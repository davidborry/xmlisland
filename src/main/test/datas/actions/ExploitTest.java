package main.test.datas.actions;

import main.java.datas.actions.Exploit;
import org.json.JSONException;
import org.json.JSONObject;
import org.junit.Test;

import static org.junit.Assert.assertEquals;

/**
 * Created by david on 18/05/2016.
 */
public class ExploitTest {
    Exploit exploit;
    String s ="{ \"action\": \"exploit\", \"parameters\": { \"resource\": \"FUR\" }}";
    JSONObject jsonObject;

    @Test
    public void testGetJSONDatas() throws Exception {
        System.out.println(s);

        try{
            jsonObject = new JSONObject(s);
            exploit = new Exploit(jsonObject);
            exploit.extractDatas();

            String name = exploit.getName();
            String resource = exploit.getResource();

            assertEquals("exploit",name);
            assertEquals("FUR",resource);
        }

        catch(JSONException e){
            e.printStackTrace();
        }
    }
}
